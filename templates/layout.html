<html>
  <head>
    <title>Dataset manager</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
    <script src="{{ url_for('static', filename='js/jquery-3.6.0.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/semantic.min.js') }}"></script>
  <head>
  <body>
    <div class="ui container" style="padding-top: 5em; padding-bottom: 5em;">
      <div id="message-container">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="ui {{ category }} message">
                <i class="close icon"></i>
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}
      </div>
      <h1>{{ title }}</h1>
      <div class="ui divider"></div>
      {% block body %}{% endblock %}
    </div>
    <script>
      // Close message on exit click
      $('.close.icon')
        .click(function() {
          $(this)
            .parent()
            .remove()
        })

      // Flash utility methods
      function flash_message(message, type) {
        cls_btn = $('<i class="close icon"></i>')
        msg_obj = $(`<div class="ui ${type} message"></div>`)

        cls_btn
          .click(function() {
            $(this)
              .parent()
              .remove()
          })

        msg_obj.append(cls_btn)
        msg_obj.append(message)

        $('#message-container').append(msg_obj)
      }
      function flash_success(message) {
        flash_message(message, 'success')
      }
      function flash_error(message) {
        flash_message(message, 'error')
      }
    </script>
  </body>
</html>
